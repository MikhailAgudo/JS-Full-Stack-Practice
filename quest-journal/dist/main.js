(()=>{"use strict";const e=e=>String(e),t=e=>e,s=e=>(e>3?e=3:e<1&&(e=1),e),o=e=>String(e),r=(()=>{let r=[];const l=e=>r[e],a=(e,t)=>r[e].getTask(t);return{quests:r,addQuest:e=>{let t=(e=>{let t=[],s=[];return{getTitle:()=>e,getTasks:()=>t,getTaskAmount:()=>t.length,getTask:e=>t[e],addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)},processSwap:e=>{s.length<2&&(e=>{s.push(e)})(e),s.length>=2&&(()=>{const e=s.shift(),o=s.shift();let r=t[e];t[e]=t[o],t[o]=r})()}}})(e=o(e));r.push(t)},removeQuest:e=>{r.splice(e,1)},getQuest:l,resetQuests:()=>{r=[]},addTask:(o,r,a,i,n)=>{let u=((e,t,s,o)=>({getTitle:()=>e,getDescription:()=>t,getDueDate:()=>s,getPriority:()=>o,setTitle:t=>{e=t},setDescription:e=>{t=e},setDueDate:e=>{s=e},setPriority:e=>{o=e}}))(o=e(o),r=e(r),a=t(a),i=s(i));l(n).addTask(u)},removeTask:(e,t)=>{l(e).removeTask(t)},renameTitle:(t,s,o)=>{o=e(o),a(t,s).setTitle(o)},changeDescription:(t,s,o)=>{o=e(o),a(t,s).setDescription(o)},changeDate:(e,s,o)=>{o=t(o),a(e,s).setDueDate(o)},changePriority:(e,t,o)=>{o=s(o),a(e,t).setPriority(o)}}})(),l=(()=>{const e=(t,s,o,r)=>{if(-1===o)return s;switch(r){case"title":s.unshift(t[o].getTitle());break;case"description":s.unshift(t[o].getDescription());case"date":s.unshift(t[o].getDueDate())}return e(t,s,o-=1,r)};return{transformToUIReadable:e}})();(()=>{let e=0,t=0;const s=t=>{e++,!0===t?console.log(`Test ${e} passed.`):console.log(`Test ${e} F-A-I-L-E-D.`)},o=e=>(!0===Array.isArray(e)&&(e=String(e)),e),a=(e,r)=>{((e,t)=>{console.log(`---${e} ~OUTPUT~ vs.`),console.log(`---${t} ~EXP.~`)})(e=o(e),r=o(r)),e===r?s(!0):(t++,s(!1))},i=()=>r.quests.length-1,n=()=>r.quests[i()].getTaskAmount()-1,u=()=>r.quests[i()].getTaskAmount(),g=e=>{r.addQuest(e);let t=i(),s=r.quests[t].getTitle();a(s,e)},T=(e,t,s,o)=>{let l=i();r.addTask(e,t,s,o,l);let u=r.quests[l].getTask(n()),g=u.getTitle(),T=u.getDescription(),c=u.getDueDate(),h=u.getPriority();a(g,e),a(T,t),a(c,s),a(h,o)},c=e=>{r.removeTask(i(),n());let t=u();a(t,e)};return{testProcess:()=>{let e="Bandits Amassing",s="Vedivoll's Troubles",o="Go to Mindwolf Forest",h="Talk to the Sorceress Elina";g(e),T(o,"You must kill the bandits.",Date.now(),3),T(h,"She lives in a hut somewhere in the mountains.",Date.now(),2),((e,t,s)=>{let o=r.quests[i()];o.processSwap(0),o.processSwap(1);let l=o.getTask(n()).getTitle();a(l,"Go to Mindwolf Forest")})(),(e=>{let t=r.quests[i()].getTasks(),s=t.length-1,o=l.transformToUIReadable(t,[],s,"title");a(o,e)})([h,o]),(e=>{let t=r.quests.length;a(t,1)})(),(e=>{let t=u();a(t,2)})(),c(1),c(0),g(s),(e=>{let t=r.quests,s=t.length-1,o=l.transformToUIReadable(t,[],s,"title");a(o,e)})([e,s]),(e=>{r.removeQuest(i());let t=r.quests.length;a(t,1)})(),console.log(`Number of failed tests: ${t}`),r.resetQuests()}}})().testProcess()})();