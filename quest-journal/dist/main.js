(()=>{"use strict";const e=e=>String(e),t=e=>e,n=e=>(e>3?e=3:e<1&&(e=1),e),s=e=>String(e),i=(()=>{let i=[];const a=e=>i[e],r=(e,t)=>i[e].getTask(t);return{quests:i,addQuest:e=>{let t=(e=>{let t=[],n=[];return{getTitle:()=>e,getTasks:()=>t,getTaskAmount:()=>t.length,getTask:e=>t[e],addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)},processSwap:e=>{n.length<2&&(e=>{n.push(e)})(e),n.length>=2&&(()=>{const e=n.shift(),s=n.shift();let i=t[e];t[e]=t[s],t[s]=i})()}}})(e=s(e));i.push(t)},removeQuest:e=>{i.splice(e,1)},getQuests:()=>i,getQuest:a,resetQuests:()=>{i=[]},addTask:(s,i,r,l,d)=>{let o=((e,t,n,s)=>({getTitle:()=>e,getDescription:()=>t,getDueDate:()=>n,getPriority:()=>s,setTitle:t=>{e=t},setDescription:e=>{t=e},setDueDate:e=>{n=e},setPriority:e=>{s=e}}))(s=e(s),i=e(i),r=t(r),l=n(l));a(d).addTask(o)},removeTask:(e,t)=>{a(e).removeTask(t)},renameTitle:(t,n,s)=>{s=e(s),r(t,n).setTitle(s)},changeDescription:(t,n,s)=>{s=e(s),r(t,n).setDescription(s)},changeDate:(e,n,s)=>{s=t(s),r(e,n).setDueDate(s)},changePriority:(e,t,s)=>{s=n(s),r(e,t).setPriority(s)}}})(),a=e=>{let t=document.createElement("div"),n=document.createElement("div");console.log(e.getTitle()),n.textContent=e.getTitle();let s=document.createElement("div");s.textContent=e.getDescription();let i=document.createElement("div");i.textContent=e.getDueDate();let a=document.createElement("div");return a.textContent=e.getPriority(),t.appendChild(n),t.appendChild(s),t.appendChild(i),t.appendChild(a),t},r=(()=>{const e=(t,n,s,i)=>{if(-1===s)return n;switch(i){case"title":n.unshift(t[s].getTitle());break;case"description":n.unshift(t[s].getDescription());break;case"date":n.unshift(t[s].getDueDate())}return e(t,n,s-=1,i)};return{transformToUIReadable:e,questsToTitles:e=>{let t=[];for(let n=0;n<e.length;n++){let s=e[n].getTitle();t.push(s)}return t}}})(),l=(()=>{let e=document.createElement("div"),t=document.createElement("div");const n=()=>(e.classList.add("quest-section"),e),s=()=>(t.classList.add("task-section"),t),i=(e,t)=>{let n=document.createElement("div");return n.textContent=e[t],n.dataset.index=t,n};return{initializeJournal:()=>{let e=document.querySelector(".journal-section"),t=n(),i=s();e.appendChild(t),e.appendChild(i)},renderQuestTab:t=>{e.innerHTML="",(t=>{for(let n=0;n<t.length;n++){let s=i(t,n);e.appendChild(s)}})(t)},renderTaskTab:e=>{t.innerHTML="",(e=>{for(let n=0;n<e.length;n++){let s=a(e[n]);t.appendChild(s)}})(e)},getDisplayedQuestIndex:()=>0}})();({initializeJournal:()=>{l.initializeJournal(),i.addQuest("Joining the Legion"),i.addTask("Legate Rikke","In order to prove myself to Legate Rikke, I am to clear out the bandits living at Fort Hraggstad.","tomorrow Pepeg","1",0),i.addQuest("The Jagged Crown"),i.addQuest("Message to Whiterun"),(()=>{let e=r.questsToTitles(i.quests);l.renderQuestTab(e);let t=l.getDisplayedQuestIndex();l.renderTaskTab(i.quests[t].getTasks())})()}}).initializeJournal()})();