(()=>{"use strict";const e=e=>String(e),t=e=>e,s=e=>(e>3?e=3:e<1&&(e=1),e),o=e=>String(e),r=(()=>{let r=[];const a=e=>r[e],l=(e,t)=>r[e].getTask(t);return{quests:r,addQuest:e=>{let t=(e=>{let t=[],s=[];return{getTitle:()=>e,getTasks:()=>t,getTaskAmount:()=>t.length,getTask:e=>t[e],addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)},processSwap:e=>{s.length<2&&(e=>{s.push(e)})(e),s.length>=2&&(()=>{const e=s.shift(),o=s.shift();let r=t[e];t[e]=t[o],t[o]=r})()}}})(e=o(e));r.push(t)},removeQuest:e=>{r.splice(e,1)},getQuest:a,resetQuests:()=>{r=[]},addTask:(o,r,l,i,n)=>{let g=((e,t,s,o)=>({getTitle:()=>e,getDescription:()=>t,getDueDate:()=>s,getPriority:()=>o,setTitle:t=>{e=t},setDescription:e=>{t=e},setDueDate:e=>{s=e},setPriority:e=>{o=e}}))(o=e(o),r=e(r),l=t(l),i=s(i));a(n).addTask(g)},removeTask:(e,t)=>{a(e).removeTask(t)},renameTitle:(t,s,o)=>{o=e(o),l(t,s).setTitle(o)},changeDescription:(t,s,o)=>{o=e(o),l(t,s).setDescription(o)},changeDate:(e,s,o)=>{o=t(o),l(e,s).setDueDate(o)},changePriority:(e,t,o)=>{o=s(o),l(e,t).setPriority(o)}}})(),a=(()=>{const e=(t,s,o,r)=>{if(-1===o)return s;switch(r){case"title":s.unshift(t[o].getTitle());break;case"description":s.unshift(t[o].getDescription());break;case"date":s.unshift(t[o].getDueDate())}return e(t,s,o-=1,r)};return{transformToUIReadable:e}})();(()=>{let e=0,t=0;const s=t=>{e++,!0===t?console.log(`Test ${e} passed.`):console.log(`Test ${e} F-A-I-L-E-D.`)},o=e=>(!0===Array.isArray(e)&&(e=String(e)),e),l=(e,r)=>{((e,t)=>{console.log(`---${e} ~OUTPUT~ vs.`),console.log(`---${t} ~EXP.~`)})(e=o(e),r=o(r)),e===r?s(!0):(t++,s(!1))},i=()=>r.quests.length-1,n=()=>r.quests[i()].getTaskAmount()-1,g=()=>r.quests[i()].getTaskAmount(),u=e=>{r.addQuest(e);let t=i(),s=r.quests[t].getTitle();l(s,e)},T=(e,t,s,o)=>{let a=i();r.addTask(e,t,s,o,a);let g=r.quests[a].getTask(n()),u=g.getTitle(),T=g.getDescription(),c=g.getDueDate(),h=g.getPriority();l(u,e),l(T,t),l(c,s),l(h,o)},c=e=>{r.removeTask(i(),n());let t=g();l(t,e)};return{testProcess:()=>{let e="Bandits Amassing",s="Vedivoll's Troubles",o="Go to Mindwolf Forest",h="Talk to the Sorceress Elina",d="You must kill the bandits.",k="She lives in a hut somewhere in the mountains.";u(e),T(o,d,Date.now(),3),T(h,k,Date.now(),2),((e,t,s)=>{let o=r.quests[i()];o.processSwap(0),o.processSwap(1);let a=o.getTask(n()).getTitle();l(a,"Go to Mindwolf Forest")})(),(e=>{let t=r.quests[i()].getTasks(),s=t.length-1,o=a.transformToUIReadable(t,[],s,"title");l(o,e)})([h,o]),(e=>{let t=r.quests[i()].getTasks(),s=t.length-1,o=a.transformToUIReadable(t,[],s,"description");l(o,e)})([k,d]),(e=>{let t=r.quests.length;l(t,1)})(),(e=>{let t=g();l(t,2)})(),c(1),c(0),u(s),(e=>{let t=r.quests,s=t.length-1,o=a.transformToUIReadable(t,[],s,"title");l(o,e)})([e,s]),(e=>{r.removeQuest(i());let t=r.quests.length;l(t,1)})(),console.log(`Number of failed tests: ${t}`),r.resetQuests()}}})().testProcess()})();