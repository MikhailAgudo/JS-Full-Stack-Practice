(()=>{"use strict";const e=e=>String(e),t=e=>e,s=e=>(e>3?e=3:e<1&&(e=1),e),n=e=>String(e),i=(()=>{let i=[];const a=e=>i[e],r=(e,t)=>i[e].getTask(t);return{quests:i,addQuest:e=>{let t=(e=>{let t=[],s=[];return{getTitle:()=>e,getTasks:()=>t,getTaskAmount:()=>t.length,getTask:e=>t[e],addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)},processSwap:e=>{s.length<2&&(e=>{s.push(e)})(e),s.length>=2&&(()=>{const e=s.shift(),n=s.shift();let i=t[e];t[e]=t[n],t[n]=i})()}}})(e=n(e));i.push(t)},removeQuest:e=>{i.splice(e,1)},getQuests:()=>i,getQuest:a,resetQuests:()=>{i=[]},addTask:(n,i,r,l,o)=>{let d=((e,t,s,n)=>({getTitle:()=>e,getDescription:()=>t,getDueDate:()=>s,getPriority:()=>n,setTitle:t=>{e=t},setDescription:e=>{t=e},setDueDate:e=>{s=e},setPriority:e=>{n=e}}))(n=e(n),i=e(i),r=t(r),l=s(l));a(o).addTask(d)},removeTask:(e,t)=>{a(e).removeTask(t)},renameTitle:(t,s,n)=>{n=e(n),r(t,s).setTitle(n)},changeDescription:(t,s,n)=>{n=e(n),r(t,s).setDescription(n)},changeDate:(e,s,n)=>{n=t(n),r(e,s).setDueDate(n)},changePriority:(e,t,n)=>{n=s(n),r(e,t).setPriority(n)}}})(),a=e=>{let t=document.createElement("div"),s=document.createElement("div");s.textContent=e.getTitle();let n=document.createElement("div");n.textContent=e.getDescription();let i=document.createElement("div");i.textContent=e.getDueDate();let a=document.createElement("div");return a.textContent=e.getPriority(),t.appendChild(s),t.appendChild(n),t.appendChild(i),t.appendChild(a),t},r=(()=>{const e=(t,s,n,i)=>{if(-1===n)return s;switch(i){case"title":s.unshift(t[n].getTitle());break;case"description":s.unshift(t[n].getDescription());break;case"date":s.unshift(t[n].getDueDate())}return e(t,s,n-=1,i)};return{transformToUIReadable:e,questsToTitles:e=>{let t=[];for(let s=0;s<e.length;s++){let n=e[s].getTitle();t.push(n)}return t}}})(),l=(()=>{let e=0,t=document.createElement("div"),s=document.createElement("div");const n=()=>(t.classList.add("quest-section"),t),l=()=>(s.classList.add("task-section"),s),o=e=>{T(),d(e)},d=e=>{for(let s=0;s<e.length;s++){let n=u(e,s);t.appendChild(n)}},u=(e,t)=>{let s=document.createElement("button");return s.textContent=e[t],s.dataset.index=t,s.addEventListener("click",(e=>{h(t)})),s},g=e=>{p(),c(e)},c=e=>{for(let t=0;t<e.length;t++){let n=a(e[t]);s.appendChild(n)}},T=()=>{t.innerHTML=""},p=()=>{s.innerHTML=""},h=t=>{e=t;let s=m();o(s);let n=k();g(n)},m=()=>r.questsToTitles(i.quests),k=()=>i.quests[e].getTasks();return{initializeJournal:()=>{let e=document.querySelector(".journal-section"),t=n(),s=l();e.appendChild(t),e.appendChild(s)},renderQuestTab:o,renderTaskTab:g,getDisplayedQuestIndex:()=>e,getQuestTitles:m,getTasks:k}})();({initializeJournal:()=>{l.initializeJournal(),i.addQuest("Joining the Legion"),i.addTask("Legate Rikke","In order to prove myself to Legate Rikke, I am to clear out the bandits living at Fort Hraggstad.","tomorrow Pepeg","1",0),i.addTask("Prove Your Usefulness","Report to Legate Rikke.","tomorrow Pepeg","1",0),i.addQuest("The Jagged Crown"),i.addQuest("Message to Whiterun"),(()=>{let e=l.getQuestTitles();l.renderQuestTab(e),l.getDisplayedQuestIndex(),l.renderTaskTab(l.getTasks())})()}}).initializeJournal()})();